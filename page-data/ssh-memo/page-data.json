{"componentChunkName":"component---src-templates-post-js","path":"/ssh-memo/","result":{"data":{"site":{"siteMetadata":{"title":"mojaie.github.io","siteUrl":"https://mojaie.github.io","author":{"name":"Seiji Matsuoka","summary":"Cheminformatics, Biointeraction and Laboratory automation"},"license":"CC BY 4.0","licenseURL":"https://creativecommons.org/licenses/by/4.0/legalcode","social":{"twitter":"mojaie"}}},"markdownRemark":{"id":"41b6a043-3462-5e02-8f50-6dc7aa750838","excerpt":"前提 サーバ: Ubuntu 16.04 クライアント: MacOS 10.15.5 SSHキーの作成 毎回パスワードでログインも可能だが、SSHキーを生成しておいた方が楽かつ安全。 -t オプション: 暗号化アルゴリズム(RSA) -b オプション: バイト数。長いほど安全 -C…","html":"<h3>前提</h3>\n<ul>\n<li>サーバ: Ubuntu 16.04</li>\n<li>クライアント: MacOS 10.15.5</li>\n</ul>\n<h3>SSHキーの作成</h3>\n<p>毎回パスワードでログインも可能だが、SSHキーを生成しておいた方が楽かつ安全。</p>\n<div class=\"gatsby-highlight\" data-language=\"shell-session\"><pre class=\"language-shell-session\"><code class=\"language-shell-session\"><span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\">ssh-keygen -t rsa -b <span class=\"token number\">4096</span> -C <span class=\"token string\">\"comment\"</span></span></span></code></pre></div>\n<ul>\n<li>-t オプション: 暗号化アルゴリズム(RSA)</li>\n<li>-b オプション: バイト数。長いほど安全</li>\n<li>-C オプション: コメント</li>\n</ul>\n<p>ホームディレクトリの.sshにid_rsaファイル(秘密鍵)とid_rsa.pub(公開鍵)が生成されている。</p>\n<h3>エージェント登録</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell-session\"><pre class=\"language-shell-session\"><code class=\"language-shell-session\"><span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\"><span class=\"token builtin class-name\">eval</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>ssh-agent -s<span class=\"token variable\">)</span></span>\"</span></span></span>\n<span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\"><span class=\"token builtin class-name\">cd</span> .ssh</span></span>\n<span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\"><span class=\"token function\">touch</span> config</span></span>\n<span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\"><span class=\"token function\">vi</span> config</span></span></code></pre></div>\n<p>configファイルを新規作成して、下記を記載</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Host *\n  AddKeysToAgent yes\n  UseKeychain yes\n  IdentityFile ~/.ssh/id_rsa</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell-session\"><pre class=\"language-shell-session\"><code class=\"language-shell-session\"><span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\">ssh-add -K ~/.ssh/id_rsa</span></span></code></pre></div>\n<p>エージェントに秘密鍵が登録され、自動的にログインで使用される。</p>\n<h3>公開鍵のアップロード</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell-session\"><pre class=\"language-shell-session\"><code class=\"language-shell-session\"><span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\">ssh-copy-id username@hostname</span></span></code></pre></div>\n<p>パスワードを要求される。無事アップロードされれば、次回からパスワード無しでsshコマンドでログインできる。</p>\n<div class=\"gatsby-highlight\" data-language=\"shell-session\"><pre class=\"language-shell-session\"><code class=\"language-shell-session\"><span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\"><span class=\"token function\">ssh</span> username@hostname</span></span></code></pre></div>","fields":{"slug":"/ssh-memo/"},"frontmatter":{"title":"SSHメモ","dateCreated":"July 10, 2020","dateModified":"July 10, 2020","tags":["SSH","environment setup"],"description":null}}},"pageContext":{"slug":"/ssh-memo/","draft":false,"previous":{"fields":{"slug":"/genie-rest-api/"},"frontmatter":{"title":"GenieとPostgreSQLでREST APIサーバを構築","draft":false}},"next":{"fields":{"slug":"/squid-memo/"},"frontmatter":{"title":"Squidでプロキシサーバを構築する","draft":false}}}}}