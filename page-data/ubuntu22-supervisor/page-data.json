{"componentChunkName":"component---src-templates-post-js","path":"/ubuntu22-supervisor/","result":{"data":{"site":{"siteMetadata":{"title":"mojaie.github.io","siteUrl":"https://mojaie.github.io","author":{"name":"Seiji Matsuoka","summary":"Cheminformatics, Biointeraction and Laboratory automation"},"license":"CC BY 4.0","licenseURL":"https://creativecommons.org/licenses/by/4.0/legalcode","social":{"twitter":"mojaie"}}},"markdownRemark":{"id":"9beacea5-1f60-5337-bf1d-19f738c8411b","excerpt":"環境 Ubuntu 22.04.1 ログ pythonがないらしいのでpython3のリンクを作成 なんかpkg_resourceのバージョン認識がおかしい… 仕方がないのでpython2で入れてみる 謎","html":"<h3>環境</h3>\n<ul>\n<li>Ubuntu 22.04.1</li>\n</ul>\n<h3>ログ</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell-session\"><pre class=\"language-shell-session\"><code class=\"language-shell-session\"><span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> supervisor</span></span>\n<span class=\"token output\">パッケージリストを読み込んでいます... 完了\n依存関係ツリーを作成しています... 完了        \n状態情報を読み取っています... 完了        \n提案パッケージ:\n  supervisor-doc\n以下のパッケージが新たにインストールされます:\n  supervisor\nアップグレード: 0 個、新規インストール: 1 個、削除: 0 個、保留: 0 個。\n278 kB のアーカイブを取得する必要があります。\nこの操作後に追加で 1,684 kB のディスク容量が消費されます。\n取得:1 http://ftp.hogehoge/Linux/ubuntu jammy/universe amd64 supervisor all 4.2.1-1ubuntu1 [278 kB]\n278 kB を 0秒 で取得しました (2,512 kB/s)\n以前に未選択のパッケージ supervisor を選択しています。\n(データベースを読み込んでいます ... 現在 224057 個のファイルとディレクトリがインストールされています。)\n.../supervisor_4.2.1-1ubuntu1_all.deb を展開する準備をしています ...\nsupervisor (4.2.1-1ubuntu1) を展開しています...\nsupervisor (4.2.1-1ubuntu1) を設定しています ...\nureadahead (0.100.0-21) のトリガを処理しています ...\nman-db (2.10.2-1) のトリガを処理しています ...</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell-session\"><pre class=\"language-shell-session\"><code class=\"language-shell-session\"><span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\">supervisord</span></span>\n<span class=\"token output\">-bash: /usr/local/bin/supervisord: /usr/bin/python: 誤ったインタプリタです: そのようなファイルやディレクトリはありません</span></code></pre></div>\n<p>pythonがないらしいのでpython3のリンクを作成</p>\n<div class=\"gatsby-highlight\" data-language=\"shell-session\"><pre class=\"language-shell-session\"><code class=\"language-shell-session\"><span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">ln</span> -s /usr/bin/python3 /usr/bin/python</span></span>\n<span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\">supervisord</span></span>\n<span class=\"token output\">/usr/lib/python3/dist-packages/pkg_resources/__init__.py:116: PkgResourcesDeprecationWarning: 1.16.0-unknown is an invalid version and will not be supported in a future release\n  warnings.warn(\n/usr/lib/python3/dist-packages/pkg_resources/__init__.py:116: PkgResourcesDeprecationWarning: 0.1.43ubuntu1 is an invalid version and will not be supported in a future release\n  warnings.warn(\n/usr/lib/python3/dist-packages/pkg_resources/__init__.py:116: PkgResourcesDeprecationWarning: 1.1build1 is an invalid version and will not be supported in a future release\n  warnings.warn(\nTraceback (most recent call last):\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 573, in _build_master\n    ws.require(__requires__)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 891, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 782, in resolve\n    raise VersionConflict(dist, req).with_context(dependent_req)\npkg_resources.VersionConflict: (supervisor 4.2.1 (/usr/lib/python3/dist-packages), Requirement.parse('supervisor==3.2.0'))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/bin/supervisord\", line 5, in &lt;module>\n    from pkg_resources import load_entry_point\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 3267, in &lt;module>\n    def _initialize_master_working_set():\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 3241, in _call_aside\n    f(*args, **kwargs)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 3279, in _initialize_master_working_set\n    working_set = WorkingSet._build_master()\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 575, in _build_master\n    return cls._build_from_requirements(__requires__)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 588, in _build_from_requirements\n    dists = ws.resolve(reqs, Environment())\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 777, in resolve\n    raise DistributionNotFound(req, requirers)\npkg_resources.DistributionNotFound: The 'supervisor==3.2.0' distribution was not found and is required by the application</span></code></pre></div>\n<p>なんかpkg_resourceのバージョン認識がおかしい…</p>\n<p>仕方がないのでpython2で入れてみる</p>\n<div class=\"gatsby-highlight\" data-language=\"shell-session\"><pre class=\"language-shell-session\"><code class=\"language-shell-session\"><span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> /usr/bin/python</span></span>\n<span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">ln</span> -s /usr/bin/python2 /usr/bin/python</span></span>\n<span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> python-pkg-resources</span></span>\n<span class=\"token command\"><span class=\"token shell-symbol important\">$</span> <span class=\"token bash language-bash\">supervisord -v</span></span>\n<span class=\"token output\">3.2.0</span></code></pre></div>\n<p>謎</p>","fields":{"slug":"/ubuntu22-supervisor/"},"frontmatter":{"title":"Ubuntu 22.04.1にアップグレードしたらSupervisorが動かなくなった","dateCreated":"October 12, 2022","dateModified":"October 12, 2022","tags":["Ubuntu","Supervisor"],"description":null}},"file":null},"pageContext":{"slug":"/ubuntu22-supervisor/","draft":false,"image":null,"previous":{"fields":{"slug":"/minimal-eln/"},"frontmatter":{"title":"オープンソースでミニマルな電子実験ノート(ELN)を実装する","image":null,"draft":false}},"next":null}},"staticQueryHashes":["2841359383","3266777773","401191528"]}