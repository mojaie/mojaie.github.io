{"componentChunkName":"component---src-templates-post-js","path":"/ts_verify_macos/","result":{"data":{"site":{"siteMetadata":{"title":"mojaie.github.io","siteUrl":"https://mojaie.github.io","author":{"name":"Seiji Matsuoka","summary":"Cheminformatics, Biointeraction and Laboratory automation"},"license":"CC BY 4.0","licenseURL":"https://creativecommons.org/licenses/by/4.0/legalcode","social":{"twitter":"mojaie"}}},"markdownRemark":{"id":"f71d99c8-c67d-5fd1-af3d-1349ec4bbcb7","excerpt":"macOS Catalina 10.15.7 でeLabFTWのタイムスタンプをopensslで検証しようとしたらess signing certificate errorになってしまった。 理由はわからないが、下記OpenSSLのissueにあるように、認証局(dfn.de…","html":"<p>macOS Catalina 10.15.7 でeLabFTWのタイムスタンプをopensslで検証しようとしたらess signing certificate errorになってしまった。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">openssl ts -verify -data &quot;document.pdf&quot; -in &quot;document_token.asn1&quot; -CApath &quot;/private/etc/ssl/certs&quot; -CAfile &quot;/private/etc/ssl/cert.pem&quot; -untrusted &quot;chain.txt&quot;</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Verification: FAILED\n4547518060:error:2FFFF065:time stamp routines:CRYPTO_internal:ess signing certificate error:/AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/libressl/libressl-47.140.1/libressl-2.8/crypto/ts/ts_rsp_verify.c:300:</code></pre></div>\n<p>理由はわからないが、下記OpenSSLのissueにあるように、認証局(dfn.de)が発行しているトークンの暗号化アルゴリズムに対応していないような気がする。</p>\n<p>Error #2F067065 - “ess signing certificate error” when validating timestamp reply<br>\n<a href=\"https://github.com/openssl/openssl/issues/7062\">https://github.com/openssl/openssl/issues/7062</a></p>\n<p>OpenSSLのほうは対応済みとのことなので、MacデフォルトのLibreSSLからHomebrewの1.1.1g(Pythonを入れたときに付いてきた)に切り替えると問題なく動作した。</p>","fields":{"slug":"/ts_verify_macos/"},"frontmatter":{"title":"openssl ts -verifyでess signing certificate error","dateCreated":"February 18, 2021","dateModified":"February 18, 2021","tags":["macOS","OpenSSL","Trusted timestamping","ELN","eLabFTW"],"description":null}},"file":null},"pageContext":{"slug":"/ts_verify_macos/","draft":false,"image":null,"previous":{"fields":{"slug":"/julia-package-admin/"},"frontmatter":{"title":"Juliaパッケージ管理メモ","image":null,"draft":false}},"next":{"fields":{"slug":"/rdkit-memo/"},"frontmatter":{"title":"RDkitビルド職人の朝は早い (macOS)","image":null,"draft":false}}}},"staticQueryHashes":["2841359383","3266777773","401191528"]}