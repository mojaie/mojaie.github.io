{"componentChunkName":"component---src-templates-post-js","path":"/psi4-memo/","result":{"data":{"site":{"siteMetadata":{"title":"mojaie.github.io","siteUrl":"https://mojaie.github.io","author":{"name":"Seiji Matsuoka","summary":"Cheminformatics, Biointeraction and Laboratory automation"},"license":"CC BY 4.0","licenseURL":"https://creativecommons.org/licenses/by/4.0/legalcode","social":{"twitter":"mojaie"}}},"markdownRemark":{"id":"a942a6e7-dc9d-563a-bc23-5fa7cfba1b60","excerpt":"2016年ごろの情報なので注意。TODO: 情報の更新 インストール MacのBLAS/LAPACK用Accelerate.Frameworkを使うので —accelerate ENABLE_CHEMPS2=OFFしないとビルドできない Boost v1.60非対応なのでBUILDCUSTOMBOOST=TRUE…","html":"<p>2016年ごろの情報なので注意。TODO: 情報の更新</p>\n<h3>インストール</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd /Users/smatsuoka/Workspace\ngit clone --recursive https://github.com/psi4/psi4.git\nmv psi4 psi4source\ncd psi4source\n\n./setup --accelerate -D ENABLE_CHEMPS2=OFF -D BUILD_CUSTOM_BOOST=TRUE --prefix /Users/smatsuoka/Workspace/psi4 build</code></pre></div>\n<ul>\n<li>MacのBLAS/LAPACK用Accelerate.Frameworkを使うので —accelerate</li>\n<li>ENABLE_CHEMPS2=OFFしないとビルドできない</li>\n<li>Boost v1.60非対応なのでBUILD<em>CUSTOM</em>BOOST=TRUEして古いバージョンをビルド</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd build\nmake -j`getconf _NPROCESSORS_ONLN`\nmake install</code></pre></div>\n<h3>コンフォメーションは？</h3>\n<p>Tinker検討<br>\n<a href=\"http://dasher.wustl.edu/tinker/\">http://dasher.wustl.edu/tinker/</a></p>\n<h3>for Ubuntu</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get install psi4  # ただしバージョンはbeta5</code></pre></div>\n<h3>cmake</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get install cmake  # デフォルトでcmakeが入ってないしapt-getだとバージョンが低い\ncd ~/\nwget https://cmake.org/files/v3.5/cmake-3.5.2.tar.gz\ntar xvf cmake-3.5.2.tar.gz\ncd cmake-3.5.2\n./configure\nmake\nsudo make install\nwhich cmake  # -&gt; /usr/local/bin/cmake</code></pre></div>\n<h3>BLAS/LAPACK</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get install libopenblas-base  # プリインストールのBLASは遅いのでOpenBLASを入れる\nsudo update-alternatives --config libblas.so.3  # どのBLASを使っているか確認\nsudo apt-get install liblapack-dev  # LAPACKの性能はBLASほどcriticalではないらしい</code></pre></div>\n<ul>\n<li>openblasはどうも対応してないっぽい(バグ？)</li>\n<li>ATLASならシングルコアだけどbuiltin-BLASのマルチコアくらいの速度出る（６倍）</li>\n<li>sudo apt-get install atlasに必要なもの</li>\n<li>ATLASはpsi4セットアップ時に自動認識される</li>\n</ul>\n<h3>PSI4</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git clone --recursive https://github.com/psi4/psi4.git\n\n./setup -D ENABLE_CHEMPS2=OFF -D BUILD_CUSTOM_BOOST=TRUE --pcmsolver on --fc gfortran --prefix /opt/psi4</code></pre></div>\n<ul>\n<li>PCMSolverは後から入れられないのでここで入れる</li>\n<li>gfortranの指定も必要</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd objdir\nsudo make -j`getconf _NPROCESSORS_ONLN`\nsudo make install\n\nsudo apt-get install python-numpy  # 必須</code></pre></div>\n<h3>bash_profile設定</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">export PSIPATH=/opt/psi4\nexport PATH=$PSIPATH/bin:$PATH\nexport PSIDATADIR=$PSIPATH/share/psi4  # shareフォルダの場所\nexport PSI_SCRATCH=~/psi4ws/tmp  # 作業ディレクトリ 書き込み権限がある場所</code></pre></div>\n<h3>VMD(Macクライアント)</h3>\n<ul>\n<li>公式サイトからdmgを落としてアプリケーションフォルダに突っ込む</li>\n<li>imagemagick必須? (Montage使わなければ不要？)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">brew install imagemagick</code></pre></div>","fields":{"slug":"/psi4-memo/"},"frontmatter":{"title":"PSI4メモ","dateCreated":"February 19, 2021","dateModified":"February 19, 2021","tags":["PSI4","environment setup"],"description":null}},"file":null},"pageContext":{"slug":"/psi4-memo/","draft":false,"image":null,"previous":{"fields":{"slug":"/pymol-memo/"},"frontmatter":{"title":"PyMOL,Gromacs,AutoDockVinaメモ","image":null,"draft":false}},"next":{"fields":{"slug":"/latex-mac-memo/"},"frontmatter":{"title":"LaTeXメモ (macOS)","image":null,"draft":false}}}},"staticQueryHashes":["2841359383","3266777773","401191528"]}