{"componentChunkName":"component---src-templates-post-js","path":"/julia-package-cleanup/","result":{"data":{"site":{"siteMetadata":{"title":"mojaie.github.io","siteUrl":"https://mojaie.github.io","author":{"name":"Seiji Matsuoka","summary":"Cheminformatics, Biointeraction and Laboratory automation"},"license":"CC BY 4.0","licenseURL":"https://creativecommons.org/licenses/by/4.0/legalcode","social":{"twitter":"mojaie"}}},"markdownRemark":{"id":"0c7f6caf-47ff-594b-aa40-d01706a80df3","excerpt":"しばらくJuliaを使っているとホームディレクトリの.juliaフォルダに保管されたパッケージやアーティファクト(パッケージとして利用できるビルド済みバイナリ)が増えてきてディスク容量を圧迫しはじめます(Mac OS Xの場合、このMac…","html":"<p>しばらくJuliaを使っているとホームディレクトリの.juliaフォルダに保管されたパッケージやアーティファクト(パッケージとして利用できるビルド済みバイナリ)が増えてきてディスク容量を圧迫しはじめます(Mac OS Xの場合、このMacについて->ストレージ->管理でディスク使用量が確認できます)。</p>\n<h3>不要なパッケージをプロジェクトから削除</h3>\n<p>remove(rm)コマンドで不要なパッケージをプロジェクトから削除します。Project.tomlからパッケージが削除されます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(@v1.5) pkg&gt; activate path/to/myproject\n(myproject) pkg&gt; rm MyPackage</code></pre></div>\n<p>REPL起動時のデフォルトのプロジェクトのProject.tomlは .julia/environments/[juliaのバージョン] フォルダにあります(npmで言うところのグローバル)。ここには古いバージョンのデフォルトのプロジェクトのパッケージが残っている場合があるので、@v1.3, @v1.4のような古い環境をactivateしてから当該パッケージを削除します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(@v1.5) pkg&gt; activate @v1.4\n(@v1.4) pkg&gt; rm MyOldPackage</code></pre></div>\n<p>v1.4以前は<code class=\"language-text\">activate --shared v1.3</code>のように—sharedオプションをつける必要がありました。</p>\n<h3>プロジェクトで使用されていないパッケージとアーティファクトを削除</h3>\n<p>gcコマンドを実行すると、長らく使用されていないパッケージとアーティファクトが削除されます。allオプションを付けると使用されていない期間にかかわらず.julia/environmentsのProject.tomlに記載されていない全てのパッケージと関連するア＝ティファクトが削除されます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(@v1.5) pkg&gt; gc</code></pre></div>\n<p>詳細についてはPkg.jlのドキュメント参照<br>\n<a href=\"https://julialang.github.io/Pkg.jl/v1/\">https://julialang.github.io/Pkg.jl/v1/</a></p>","fields":{"slug":"/julia-package-cleanup/"},"frontmatter":{"title":"不要なJuliaのパッケージを削除して空き容量を確保する","dateCreated":"May 31, 2020","dateModified":"August 16, 2020","tags":["Julia","package manager","environment setup"],"description":null}},"file":null},"pageContext":{"slug":"/julia-package-cleanup/","draft":false,"image":null,"previous":{"fields":{"slug":"/ssh-memo/"},"frontmatter":{"title":"Ubuntu16.04でのSSH設定メモ","image":null,"draft":false}},"next":{"fields":{"slug":"/julia-package-compiler/"},"frontmatter":{"title":"Juliaのパッケージをコンパイルして共有ライブラリを作成する","image":null,"draft":false}}}},"staticQueryHashes":["2841359383","3266777773","401191528"]}